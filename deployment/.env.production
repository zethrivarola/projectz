# Production Environment Configuration for Zeth Rivarola Photography
# Copy this file to .env.production and fill in your actual values
# NEVER commit sensitive values to version control

# =======================
# Database Configuration
# =======================
POSTGRES_DB=zeth_photography
POSTGRES_USER=zeth_user
POSTGRES_PASSWORD=your_super_secure_database_password_here
POSTGRES_PORT=5432

# Database URL for Prisma/application
DATABASE_URL=postgresql://zeth_user:your_super_secure_database_password_here@postgres:5432/zeth_photography

# =======================
# Redis Configuration
# =======================
REDIS_PASSWORD=your_redis_password_here
REDIS_PORT=6379
REDIS_URL=redis://:your_redis_password_here@redis:6379

# =======================
# MinIO S3 Configuration
# =======================
MINIO_ROOT_USER=your_minio_access_key
MINIO_ROOT_PASSWORD=your_minio_secret_key_minimum_8_chars
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_BUCKET_NAME=zeth-photos
MINIO_REGION=us-east-1
MINIO_USE_SSL=false

# External MinIO URLs (for production with domain)
MINIO_BROWSER_REDIRECT_URL=https://minio-console.yourdomain.com
MINIO_SERVER_URL=https://minio.yourdomain.com

# =======================
# Application Configuration
# =======================
NODE_ENV=production
APP_PORT=3000

# NextAuth Configuration
NEXTAUTH_SECRET=your_nextauth_secret_at_least_32_characters_long_random_string
NEXTAUTH_URL=https://yourdomain.com

# JWT Secret for custom auth
JWT_SECRET=your_jwt_secret_at_least_32_characters_long

# =======================
# Admin User Configuration
# =======================
ADMIN_EMAIL=admin@yourdomain.com
# Generate with: echo -n "your_password" | bcrypt-cli -r 12
ADMIN_PASSWORD_HASH=$2b$12$your_bcrypt_hashed_password_here

# =======================
# Email Configuration
# =======================
EMAIL_FROM=noreply@yourdomain.com
EMAIL_HOST=smtp.yourdomain.com
EMAIL_PORT=587
EMAIL_USER=your_smtp_username
EMAIL_PASS=your_smtp_password

# =======================
# Nginx Configuration
# =======================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# =======================
# Security Configuration
# =======================
# Generate random 32+ character strings for these
SESSION_SECRET=your_session_secret_32_plus_characters
ENCRYPTION_KEY=your_encryption_key_exactly_32_characters
CSRF_SECRET=your_csrf_secret_32_plus_characters

# =======================
# File Upload Configuration
# =======================
MAX_UPLOAD_SIZE=52428800  # 50MB in bytes
ALLOWED_MIME_TYPES=image/jpeg,image/png,image/webp,image/tiff,image/x-canon-cr2,image/x-canon-crw,image/x-nikon-nef,image/x-sony-arw,image/x-adobe-dng

# =======================
# Performance Configuration
# =======================
# Image processing
SHARP_CONCURRENCY=4
IMAGE_QUALITY_WEB=85
IMAGE_QUALITY_THUMBNAIL=80

# Caching
CACHE_TTL=3600  # 1 hour
STATIC_CACHE_TTL=86400  # 24 hours

# =======================
# Monitoring & Logging
# =======================
LOG_LEVEL=info
ENABLE_METRICS=true

# Sentry for error tracking (optional)
SENTRY_DSN=https://your_sentry_dsn_here@sentry.io/project_id

# =======================
# Backup Configuration
# =======================
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=zeth-photography-backups
BACKUP_S3_REGION=us-east-1
BACKUP_ACCESS_KEY=your_backup_s3_access_key
BACKUP_SECRET_KEY=your_backup_s3_secret_key

# =======================
# SSL/TLS Configuration
# =======================
SSL_CERT_PATH=/etc/nginx/ssl/fullchain.pem
SSL_KEY_PATH=/etc/nginx/ssl/privkey.pem
SSL_DHPARAM_PATH=/etc/nginx/ssl/dhparam.pem

# =======================
# Rate Limiting
# =======================
RATE_LIMIT_WINDOW=900000  # 15 minutes in ms
RATE_LIMIT_MAX_REQUESTS=100

# =======================
# Feature Flags
# =======================
ENABLE_RAW_PROCESSING=true
ENABLE_WATERMARKS=true
ENABLE_CLIENT_DOWNLOADS=true
ENABLE_GALLERY_SHARING=true
ENABLE_EMAIL_NOTIFICATIONS=true

# =======================
# Development/Debug (set to false in production)
# =======================
DEBUG_MODE=false
VERBOSE_LOGGING=false
ENABLE_SWAGGER=false

# =======================
# Time Zone
# =======================
TZ=UTC

# =======================
# External Services
# =======================
# CDN URL (if using a CDN)
CDN_URL=https://cdn.yourdomain.com

# Analytics (optional)
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# =======================
# Webhook Configuration
# =======================
WEBHOOK_SECRET=your_webhook_secret_for_external_integrations

# =======================
# API Configuration
# =======================
API_RATE_LIMIT=1000  # requests per hour per IP
API_TIMEOUT=30000    # 30 seconds

# =======================
# Health Check Configuration
# =======================
HEALTH_CHECK_TIMEOUT=5000  # 5 seconds
HEALTH_CHECK_INTERVAL=30   # 30 seconds
